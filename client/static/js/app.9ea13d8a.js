(function(t){function e(e){for(var n,r,c=e[0],s=e[1],d=e[2],u=0,f=[];u<c.length;u++)r=c[u],a[r]&&f.push(a[r][0]),a[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,d||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,c=1;c<o.length;c++){var s=o[c];0!==a[s]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},a={app:0},i=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var l=s;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("85ec"),a=o.n(n);a.a},"0882":function(t,e,o){},"0d9b":function(t,e,o){},"1b3d":function(t,e,o){},3393:function(t,e,o){},"4a4f":function(t,e,o){"use strict";var n=o("a1a2"),a=o.n(n);a.a},"50f8":function(t,e,o){"use strict";var n=o("904b"),a=o.n(n);a.a},"51b4":function(t,e,o){"use strict";var n=o("a5e9"),a=o.n(n);a.a},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),a=o("ce5b"),i=o.n(a),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("Header"),o("router-view"),o("SnackAdapter")],1)},c=[],s=o("7496"),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",[o("h1",[t._v("The App")]),o("nav",{attrs:{id:"nav"}},[o("router-link",{attrs:{to:"/"}},[t._v("\n      Home\n    ")]),o("router-link",{attrs:{to:"/admin"}},[t._v("\n      Admin\n    ")]),o("router-link",{attrs:{to:"/todo"}},[t._v("\n      Todo\n    ")])],1)])},l=[],u={name:"Header"},f=u,p=(o("51b4"),o("2877")),h=Object(p["a"])(f,d,l,!1,null,"7840c342",null),m=h.exports,v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-snackbar",{attrs:{color:t.snackColor,timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n  "+t._s(t.snackText)+"\n")])},b=[],g=o("2db4"),_={name:"SnackAdapter",components:{VSnackbar:g["a"]},data:function(){return{snackbar:!1,timeout:4e3}},computed:{snackText:function(){return this.$store.state.snack.data.text},snackColor:function(){return this.$store.state.snack.data.color}},watch:{snackText:function(t){var e=this;t.length&&(this.snackbar=!0,setTimeout(function(){e.$store.commit("snack/toggleSnack",{text:""})},this.timeout))}}},y=_,T=Object(p["a"])(y,v,b,!1,null,"47246d98",null),P=T.exports,k={name:"App",components:{VApp:s["a"],Header:m,SnackAdapter:P}},x=k,j=(o("034f"),Object(p["a"])(x,r,c,!1,null,null,null)),O=j.exports,$=o("8c4f"),C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",[o("GridAdapter")],1)},A=[],S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"grid-adapter"},[o("GridContainer",t._l(t.photos,function(e){return o("GridItem",{key:e.id,scopedSlots:t._u([{key:"item",fn:function(t){return[o("AppImage",{attrs:{"data-src":e.url,description:e.description,signal:t.signal,height:300}})]}}])})}),1)],1)},w=[],I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"grid-container"},[t._t("default")],2)},E=[],D={name:"GridContainer"},V=D,G=(o("9494"),Object(p["a"])(V,I,E,!1,null,"40a0bf56",null)),H=G.exports,F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"item",staticClass:"grid-item",style:t.styleObjItem},[o("div",{ref:"content",staticClass:"grid-item-content",style:t.styleObjContent},[t._t("item",null,{signal:t.getHeight})],2)])},L=[],M={name:"GridItem",data:function(){return{styleObjItem:{},styleObjContent:{}}},mounted:function(){},methods:{getHeight:function(t){var e=t.clientHeight,o=Math.ceil(e/6);this.styleObjItem={gridRowEnd:"span ".concat(o)},this.styleObjContent={height:"100%"}}}},R=M,z=(o("50f8"),Object(p["a"])(R,F,L,!1,null,"6808616b",null)),U=z.exports,B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("img",{staticClass:"AppImage",style:t.style,attrs:{"data-src":t.lazySrc,"data-srcset":t.lazySrcset,title:t.description}})},N=[],J=(o("c5f6"),o("5f83")),X=o.n(J),Y=function t(e,o){return 0!==e.naturalHeight?o():setTimeout(function(){return t(e,o)},100)},q={name:"AppImage",props:{backgroundColor:{type:String,default:"#efefef"},height:{type:Number,default:null},lazySrc:{type:String,default:null},lazySrcset:{type:String,default:null},width:{type:Number,default:null},signal:{type:Function,default:null},description:{type:String,default:""}},data:function(){return{loading:!0}},computed:{aspectRatio:function(){return this.width&&this.height?this.height/this.width*100:null},style:function(){var t={backgroundColor:this.backgroundColor};this.width&&(t.width="".concat(this.width,"px"));var e=this.loading&&this.aspectRatio;return e&&(t.height=0,t.paddingTop="".concat(this.aspectRatio,"%")),t}},mounted:function(){var t=this,e=function(){t.loading=!1};this.$el.addEventListener("load",e),this.$once("hook:destroyed",function(){t.$el.removeEventListener("load",e)});var o=X()(this.$el,{loaded:function(e){Y(e,function(){return t.signal(e)})}});o.observe()}},K=q,Q=(o("5e4e"),Object(p["a"])(K,B,N,!1,null,null,null)),W=Q.exports,Z={name:"GridAdapter",components:{GridContainer:H,GridItem:U,AppImage:W},computed:{photos:function(){return this.$store.state.photo.data}},created:function(){this.$store.dispatch("photo/getPhotos")}},tt=Z,et=(o("4a4f"),Object(p["a"])(tt,S,w,!1,null,"5d147ca2",null)),ot=et.exports,nt={name:"HomePage",components:{GridAdapter:ot}},at=nt,it=Object(p["a"])(at,C,A,!1,null,null,null),rt=it.exports,ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",[o("PhotoAdapter")],1)},st=[],dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"photo-adapter"},[o("v-btn",{attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),t.openDialog()}}},[t._v("\n    Add Photo\n  ")]),o("PhotoForm",{attrs:{dialog:t.dialog,"edited-photo":t.editedPhoto,"dialog-title":t.dialogTitle},on:{sendPhoto:t.sendPhoto,closeDialog:t.closeDialog,deletePhoto:t.deletePhoto}}),o("PhotoTable",{attrs:{photos:t.photos},on:{editPhoto:t.openDialog}})],1)},lt=[],ut=(o("7514"),o("8336")),ft=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"dialog-overlay",class:{active:t.dialog},on:{click:t.closeDialog}},[o("v-dialog",{attrs:{"max-width":"500px","hide-overlay":!0,persistent:!0},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-btn",{staticClass:"delete-btn",class:{visible:t.editItem.id},attrs:{flat:"",icon:"",color:"error",absolute:!0},on:{click:t.deletePhoto}},[o("v-icon",{attrs:{small:""}},[t._v("\n          mdi-delete\n        ")])],1),o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.dialogTitle))])]),o("v-card-text",[o("v-text-field",{attrs:{label:"Url"},model:{value:t.editItem.url,callback:function(e){t.$set(t.editItem,"url",e)},expression:"editItem.url"}}),o("v-text-field",{attrs:{label:"Description"},model:{value:t.editItem.description,callback:function(e){t.$set(t.editItem,"description",e)},expression:"editItem.description"}})],1),o("v-card-actions",[o("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.closeDialog}},[t._v("\n          Cancel\n        ")]),o("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.savePhoto}},[t._v("\n          Save\n        ")])],1)],1)],1)],1)},pt=[],ht=o("cebc"),mt=o("169a"),vt=o("b0af"),bt=o("12b2"),gt=o("99d9"),_t=o("2677"),yt=o("132d"),Tt={name:"PhotoForm",components:{VDialog:mt["a"],VCard:vt["a"],VCardTitle:bt["a"],VCardText:gt["b"],VCardActions:gt["a"],VTextField:_t["a"],VBtn:ut["a"],VIcon:yt["a"]},props:{dialog:{type:Boolean,default:function(){return null}},editedPhoto:{type:Object,default:function(){}},dialogTitle:{type:String,default:function(){return""}},sendPhoto:{type:Function,default:function(){return null}}},computed:{editItem:function(){return Object(ht["a"])({},this.editedPhoto)}},methods:{savePhoto:function(){var t=Object(ht["a"])({},this.editItem);this.$emit("sendPhoto",t),this.closeDialog()},closeDialog:function(){this.$emit("closeDialog")},deletePhoto:function(){var t=confirm("Are you sure? You won't be able to undo this action.");t&&(this.$emit("deletePhoto",this.editItem.id),this.closeDialog())}}},Pt=Tt,kt=(o("9dbc"),Object(p["a"])(Pt,ft,pt,!1,null,"52932bd8",null)),xt=kt.exports,jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-data-table",{staticClass:"table",attrs:{headers:t.headers,items:t.photosComp,"rows-per-page-items":[15,30,60],"disable-initial-sort":!0},scopedSlots:t._u([{key:"items",fn:function(e){return[o("tr",{on:{click:function(o){return t.editPhoto(e.item.id)}}},[o("td",[o("span",[o("img",{attrs:{src:e.item.url}})])]),o("td",[t._v(t._s(e.item.description))]),o("td",[t._v(t._s(t.formatDate(e.item.created_date)))]),o("td",[t._v(t._s(e.item.id))])])]}}])})},Ot=[],$t=o("8fea"),Ct={name:"PhotoTable",components:{VDataTable:$t["a"]},props:{photos:{type:Array,default:function(){return null}}},data:function(){return{headers:[{text:"Url",value:"url"},{text:"Description",value:"description"},{text:"Created",value:"created"},{text:"Id",value:"id"}],photoShit:this.photos}},computed:{photosComp:function(){return this.photos}},methods:{editPhoto:function(t){this.$emit("editPhoto",t)},formatDate:function(t){var e=new Date(t),o={day:"2-digit",month:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric"};return e.toLocaleString("ru-RU",o)}}},At=Ct,St=(o("9efe"),Object(p["a"])(At,jt,Ot,!1,null,"787baf5d",null)),wt=St.exports,It={url:"",description:""},Et={name:"PhotoAdapter",components:{VBtn:ut["a"],PhotoForm:xt,PhotoTable:wt},data:function(){return{dialog:!1,editedPhoto:It,dialogTitle:"Add Photo"}},computed:{photos:function(){return this.$store.state.photo.data}},created:function(){this.$store.dispatch("photo/getPhotos")},methods:{sendPhoto:function(t){this.$store.dispatch("photo/setPhoto",t)},openDialog:function(t){var e;t?(e=this.photos.find(function(e){return e.id===t}),this.editedPhoto=e,this.dialogTitle="Edit Photo"):(this.editedPhoto=It,this.dialogTitle="Add Photo"),this.dialog=!0},closeDialog:function(){this.dialog=!1},deletePhoto:function(t){this.$store.dispatch("photo/deletePhoto",{id:t})}}},Dt=Et,Vt=Object(p["a"])(Dt,dt,lt,!1,null,"271d0805",null),Gt=Vt.exports,Ht={name:"AdminPage",components:{PhotoAdapter:Gt}},Ft=Ht,Lt=(o("a8f2"),Object(p["a"])(Ft,ct,st,!1,null,"7504cc70",null)),Mt=Lt.exports,Rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",[o("TodoAdapter")],1)},zt=[],Ut=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-adapter"},[o("TodoAdd",{on:{"add-todo":t.addTodo}}),o("TodoList",{attrs:{todos:t.todos},on:{"del-todo":t.deleteTodo}})],1)},Bt=[],Nt=o("2f62"),Jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-add"},[o("form",{on:{submit:t.addTodo}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",name:"title",placeholder:"Add Todo..."},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),o("input",{attrs:{type:"submit",value:"Submit"}})])])},Xt=[],Yt={name:"TodoAdd",data:function(){return{title:""}},methods:{addTodo:function(t){t.preventDefault();var e={title:this.title,completed:!1};this.$emit("add-todo",e),this.title=""}}},qt=Yt,Kt=(o("ba8d"),Object(p["a"])(qt,Jt,Xt,!1,null,"61e324b5",null)),Qt=Kt.exports,Wt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-list"},t._l(t.todos,function(e){return o("TodoItem",{key:e.id,attrs:{todo:e},on:{"del-todo":function(o){return t.$emit("del-todo",e.id)}}})}),1)},Zt=[],te=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-item"},[o("input",{attrs:{type:"checkbox"},domProps:{checked:t.todo.completed},on:{change:t.markComplete}}),o("p",{class:{"is-complete":t.todo.completed}},[t._v("\n    "+t._s(t.todo.title)+"\n  ")]),o("button",{staticClass:"del",on:{click:function(e){return t.$emit("del-todo",t.todo.id)}}},[t._v("\n    X\n  ")])])},ee=[],oe={name:"TodoItem",props:{todo:{type:Object,default:function(){return{}}}},methods:{markComplete:function(){this.todo.completed=!this.todo.completed}}},ne=oe,ae=(o("aba7"),Object(p["a"])(ne,te,ee,!1,null,"1367e257",null)),ie=ae.exports,re={name:"TodoList",components:{TodoItem:ie},props:{todos:{type:Array,default:function(){return[]}}}},ce=re,se=Object(p["a"])(ce,Wt,Zt,!1,null,null,null),de=se.exports,le=Object(Nt["a"])("todo"),ue=le.mapActions,fe=le.mapGetters,pe={name:"TodoAdapter",components:{TodoAdd:Qt,TodoList:de},computed:Object(ht["a"])({todos:function(){return this.$store.state.todo.todos}},fe(["niceTodos"])),created:function(){this.$store.dispatch("todo/getTodos")},methods:Object(ht["a"])({},ue(["addTodo","deleteTodo"]))},he=pe,me=(o("8448"),Object(p["a"])(he,Ut,Bt,!1,null,"95f57908",null)),ve=me.exports,be={name:"TodoPage",components:{TodoAdapter:ve}},ge=be,_e=(o("b033"),Object(p["a"])(ge,Rt,zt,!1,null,"30e5a678",null)),ye=_e.exports;n["default"].use($["a"]);var Te=new $["a"]({routes:[{path:"/",name:"home",component:rt},{path:"/admin",name:"admin",component:Mt},{path:"/todo",name:"todo",component:ye}],mode:"history"}),Pe=(o("5363"),o("da64"),o("bf40"),o("75fc")),ke=o("bc3a"),xe=o.n(ke),je={namespaced:!0,state:{todos:[]},getters:{niceTodos:function(t){return t.todos.map(function(t){return{id:t.id,title:"nice_".concat(t.title),completed:t.completed}})}},mutations:{getTodos:function(t,e){t.todos=e},addTodo:function(t,e){t.todos=[].concat(Object(Pe["a"])(t.todos),[e])},deleteTodo:function(t,e){t.todos=e}},actions:{getTodos:function(t){xe.a.get("https://jsonplaceholder.typicode.com/todos?_limit=5").then(function(e){t.commit("getTodos",e.data)}).catch(function(t){return console.error(t)})},addTodo:function(t,e){var o=e.title,n=e.completed;xe.a.post("https://jsonplaceholder.typicode.com/todos",{title:o,completed:n}).then(function(e){t.commit("addTodo",e.data)}).catch(function(t){return console.error(t)})},deleteTodo:function(t,e){xe.a.delete("https://jsonplaceholder.typicode.com/todos/".concat(e)).then(function(){var o=t.state.todos.filter(function(t){return t.id!==e});t.commit("deleteTodo",o)}).catch(function(t){return console.error(t)})}}},Oe=je,$e=o("a4bb"),Ce=o.n($e),Ae=(o("ac6a"),o("20d6"),{namespaced:!0,state:{data:[]},mutations:{getPhotos:function(t,e){t.data=e},setPhoto:function(t,e){if(e.id){var o=t.data.findIndex(function(t){return t.id===e.id});Ce()(t.data[o]).forEach(function(n){t.data[o][n]=e.data[n]})}else t.data=[].concat(Object(Pe["a"])(t.data),[e.data])},deletePhoto:function(t,e){t.data=e}},actions:{getPhotos:function(t){xe.a.get("/api/photo/").then(function(e){t.commit("getPhotos",e.data)}).catch(function(t){return console.error(t)})},setPhoto:function(t,e){var o="",n="POST",a={success:{text:"The photo is successfully saved",color:"success"},error:{text:"The photo was not saved. Try again",color:"error"}};e.id&&(o="".concat(e.id,"/"),n="PUT"),xe()({method:n,url:"/api/photo/".concat(o),data:e}).then(function(o){t.commit("setPhoto",{id:e.id,data:o.data}),t.commit("snack/toggleSnack",a.success,{root:!0})}).catch(function(){t.commit("snack/toggleSnack",a.error,{root:!0})})},deletePhoto:function(t,e){var o=e.id,n={success:{text:"The photo is successfully deleted",color:"success"},error:{text:"The photo was not deleted. Try again",color:"error"}};xe.a.delete("/api/photo/".concat(o,"/")).then(function(){var e=t.state.data.filter(function(t){return t.id!==o});t.commit("deletePhoto",e),t.commit("snack/toggleSnack",n.success,{root:!0})}).catch(function(){t.commit("snack/toggleSnack",n.error,{root:!0})})}}}),Se=Ae,we={namespaced:!0,state:{data:{text:"",color:""}},mutations:{toggleSnack:function(t,e){var o=t.data.color;t.data.text=e.text,t.data.color=e.color||o}}},Ie=we;n["default"].use(Nt["b"]);var Ee=new Nt["b"].Store({strict:!1,modules:{todo:Oe,photo:Se,snack:Ie}}),De=Ee;n["default"].use(i.a,{iconfont:"mdi"}),n["default"].config.productionTip=!1,new n["default"]({store:De,router:Te,render:function(t){return t(O)}}).$mount("#app")},"5e4e":function(t,e,o){"use strict";var n=o("ceb7"),a=o.n(n);a.a},8448:function(t,e,o){"use strict";var n=o("3393"),a=o.n(n);a.a},"85ec":function(t,e,o){},"8e11":function(t,e,o){},"904b":function(t,e,o){},9494:function(t,e,o){"use strict";var n=o("9838"),a=o.n(n);a.a},9838:function(t,e,o){},"9dbc":function(t,e,o){"use strict";var n=o("d443"),a=o.n(n);a.a},"9efe":function(t,e,o){"use strict";var n=o("0882"),a=o.n(n);a.a},a1a2:function(t,e,o){},a36d:function(t,e,o){},a5e9:function(t,e,o){},a8f2:function(t,e,o){"use strict";var n=o("1b3d"),a=o.n(n);a.a},aba7:function(t,e,o){"use strict";var n=o("0d9b"),a=o.n(n);a.a},b033:function(t,e,o){"use strict";var n=o("a36d"),a=o.n(n);a.a},ba8d:function(t,e,o){"use strict";var n=o("8e11"),a=o.n(n);a.a},ceb7:function(t,e,o){},d443:function(t,e,o){}});
//# sourceMappingURL=app.9ea13d8a.js.map